<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox fx:id="trainerProfileRoot" prefHeight="720.0" prefWidth="800.0" styleClass="trainer-pane" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.rbee.pokedexgui.controller.trainer.ManageTrainerController">

    <!-- Trainer Info Section Container -->
    <VBox fx:id="trainerInfoContainer" prefHeight="160.0" prefWidth="760.0" spacing="10" styleClass="trainer-info-container">
        <padding>
            <Insets bottom="20" left="20" right="20" top="20" />
        </padding>
        <HBox spacing="20" styleClass="trainer-header">
            <children>
                <ImageView fx:id="trainerImage" fitHeight="100" fitWidth="100" preserveRatio="true" styleClass="trainer-image" />
                <VBox prefHeight="105.0" prefWidth="303.0" spacing="5" styleClass="trainer-info-box">
                    <children>
                        <Label fx:id="trainerName" styleClass="trainer-name" text="Rbee" />
                        <Label fx:id="trainerHometown" styleClass="trainer-hometown" text="Hometown: Pallet Town" textFill="WHITE" />
                        <Label fx:id="trainerBirthdate" styleClass="trainer-birthdate" text="Birthdate: July 23, 2005" textFill="WHITE" />
                        <Label fx:id="trainerSex" styleClass="trainer-sex" text="Sex: Male" textFill="WHITE" />
                        <HBox spacing="10" styleClass="money-box">
                            <Label styleClass="money-text" text="Money:" textFill="WHITE" />
                            <Label fx:id="trainerMoney" styleClass="money-label" text="₱10,000" />
                        </HBox>
                    </children>
                </VBox>
            </children>
            <HBox.margin>
                <Insets bottom="10" left="20" right="20" top="10" />
            </HBox.margin>
            <padding>
                <Insets top="5.0" />
            </padding>
        </HBox>
    </VBox>

    <VBox styleClass="outer-container" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml">
        <VBox styleClass="inner-container">

            <!-- Main Tab Pane Container -->
            <VBox fx:id="managementTabsContainer" prefHeight="600.0" prefWidth="800.0" styleClass="management-tabs-container">
                <padding>
                    <Insets bottom="20" left="20" right="20" top="20" />
                </padding>
                <TabPane fx:id="managementTabs" prefHeight="600" prefWidth="800" style="-fx-background-color: transparent;" tabClosingPolicy="UNAVAILABLE">
   
                    <!-- Item Management Tab -->
                    <Tab text="Item Management">
                        <VBox fx:id="itemManagementContainerWrapper" prefHeight="600" prefWidth="800" spacing="15.0" styleClass="item-management-wrapper">
                            <padding>
                                <Insets bottom="20.0" left="20.0" right="20.0" />
                            </padding>
   
                            <!-- Top Controls -->
                            <HBox spacing="10" styleClass="top-controls">
                                <children>
                                    <Region HBox.hgrow="ALWAYS" />
                                    <VBox prefHeight="17.0" prefWidth="317.0">
                                        <children>
                                            <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="329.0" styleClass="hint-label hint-1" text="Right-click an item to Use or Sell." textFill="WHITE" />
                                            <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="320.0" styleClass="hint-label hint-2" text="Using an item applies its effect to the selected Pokémon." textAlignment="RIGHT" textFill="WHITE" />
                                        </children>
                                    </VBox>
                                </children>
                                <padding>
                                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                </padding>
                            </HBox>
   
                            <!-- Center: Item Table -->
                            <TableView fx:id="trainerItemTable" prefHeight="420" prefWidth="1010" styleClass="item-table">
                                <columns>
                                    <TableColumn fx:id="colItemName" prefWidth="250.0" styleClass="name-col" text="Name" />
                                    <TableColumn fx:id="colItemCategory" prefWidth="200.0" styleClass="category-col" text="Category" />
                                    <TableColumn fx:id="colItemEffect" prefWidth="280.0" styleClass="effect-col" text="Effect" />
                                    <TableColumn fx:id="colItemQuantity" prefWidth="80.0" styleClass="quantity-col" text="Qty" />
                                </columns>
                                <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                </columnResizePolicy>
                        <VBox.margin>
                           <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                        </VBox.margin>
                            </TableView>
   
                            <!-- Bottom: Context Actions -->
                            <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="bottom-actions">
                                <children>
                                    <Label styleClass="money-label-label" text="Remaining Money:" textFill="WHITE" />
                                    <Label fx:id="lblRemainingMoney" styleClass="money-label" text="₱10,000" />
                                </children>
                            </HBox>
                        </VBox>
                    </Tab>
   
                    <!-- Pokémon Lineup Tab -->
                    <Tab text="Pokémon Lineup">
                  <ScrollPane>
                     <content>
                              <VBox fx:id="lineupContainer" alignment="TOP_LEFT" maxWidth="636.0" minWidth="636.0" spacing="15" styleClass="lineup-container">
                                  <padding>
                                      <Insets bottom="20" left="20" right="20" top="20" />
                                  </padding>
         
                                                    <!-- Navigate to Pokémon Page Button -->
                                  <HBox prefHeight="64.0" prefWidth="720.0" spacing="10">
                                      <padding>
                                          <Insets bottom="10" left="10" right="10" top="10" />
                                      </padding>
                                      <children>
                                          <Region prefHeight="34.0" prefWidth="126.0" HBox.hgrow="ALWAYS" />
                                          <VBox alignment="TOP_RIGHT" prefHeight="54.0" prefWidth="521.0">
                                              <children>
                                                  <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="492.0" styleClass="hint-label lineup-hint-1" text="Right-click a Pokémon to swap between the active lineup and storage." textAlignment="RIGHT" textFill="WHITE" />
                                                  <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="481.0" styleClass="hint-label lineup-hint-2" text="Adding more requires moving one to storage or releasing a Pokémon." textAlignment="RIGHT" textFill="WHITE" wrapText="true" />
                                              </children>
                                          </VBox>
                                      </children>
                                  </HBox>
         
                                        <!-- Active Pokémon Section -->
                                  <VBox prefHeight="246.0" prefWidth="965.0" spacing="5" styleClass="active-pokemon-section" VBox.vgrow="ALWAYS">
                                      <HBox alignment="CENTER_LEFT" spacing="20">
                                          <Label fx:id="lblActiveCount" styleClass="count-label active-count-label" text="Active Pokémon: 0 / 6" textFill="WHITE" />
                                      </HBox>
                                      <TableView fx:id="activePokemonTable" minHeight="200.0" prefHeight="200.0" prefWidth="920.0" styleClass="pokemon-table" VBox.vgrow="ALWAYS">
                                          <columns>
                                              <TableColumn fx:id="colActivePokedexNo" prefWidth="70" style="-fx-alignment: CENTER;" styleClass="col-pokedex" text="#" />
                                              <TableColumn fx:id="colActiveName" prefWidth="150" styleClass="col-name" text="Name" />
                                              <TableColumn fx:id="colActiveLevel" prefWidth="70" style="-fx-alignment: CENTER;" styleClass="col-level" text="Level" />
                                              <TableColumn fx:id="colActiveType" prefWidth="150" styleClass="col-type" text="Type(s)" />
                                              <TableColumn fx:id="colActiveHp" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-hp" text="HP" />
                                              <TableColumn fx:id="colActiveAtk" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-atk" text="Atk" />
                                              <TableColumn fx:id="colActiveDef" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-def" text="Def" />
                                              <TableColumn fx:id="colActiveSpAtk" prefWidth="60" style="-fx-alignment: CENTER;" styleClass="col-spatk" text="Sp.Atk" />
                                              <TableColumn fx:id="colActiveSpDef" prefWidth="60" style="-fx-alignment: CENTER;" styleClass="col-spdef" text="Sp.Def" />
                                              <TableColumn fx:id="colActiveSpeed" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-speed" text="Spe" />
                                              <TableColumn fx:id="colActiveTotal" prefWidth="70" style="-fx-alignment: CENTER;" styleClass="col-total" text="Total" />
                                          </columns>
                                          <columnResizePolicy>
                                              <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                          </columnResizePolicy>
                                      </TableView>
                                  </VBox>
         
                                        <!-- Storage Pokémon Section -->
                                  <VBox prefHeight="246.0" prefWidth="867.0" spacing="5" styleClass="storage-pokemon-section" VBox.vgrow="ALWAYS">
                                      <HBox alignment="CENTER_LEFT" spacing="20">
                                          <Label fx:id="lblStorageCount" styleClass="count-label storage-count-label" text="Storage Pokémon: 0" textFill="#f5f5f5" />
                                      </HBox>
                                      <TableView fx:id="storagePokemonTable" minHeight="200.0" prefHeight="200.0" prefWidth="858.0" styleClass="pokemon-table" VBox.vgrow="ALWAYS">
                                          <columns>
                                              <TableColumn fx:id="idColumn" prefWidth="70" style="-fx-alignment: CENTER;" styleClass="col-id" text="#" />
                                              <TableColumn fx:id="nameColumn" prefWidth="150" styleClass="col-name" text="Name" />
                                              <TableColumn fx:id="levelColumn" prefWidth="70" style="-fx-alignment: CENTER;" styleClass="col-level" text="Level" />
                                              <TableColumn fx:id="typeColumn" prefWidth="150" styleClass="col-type" text="Type(s)" />
                                              <TableColumn fx:id="hpColumn" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-hp" text="HP" />
                                              <TableColumn fx:id="atkColumn" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-atk" text="Atk" />
                                              <TableColumn fx:id="defColumn" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-def" text="Def" />
                                              <TableColumn fx:id="spaColumn" prefWidth="60" style="-fx-alignment: CENTER;" styleClass="col-spatk" text="Sp.Atk" />
                                              <TableColumn fx:id="spdColumn" prefWidth="60" style="-fx-alignment: CENTER;" styleClass="col-spdef" text="Sp.Def" />
                                              <TableColumn fx:id="speColumn" prefWidth="50" style="-fx-alignment: CENTER;" styleClass="col-speed" text="Spe" />
                                              <TableColumn fx:id="totalColumn" prefWidth="70" style="-fx-alignment: CENTER;" styleClass="col-total" text="Total" />
                                          </columns>
                                          <columnResizePolicy>
                                              <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                          </columnResizePolicy>
                                      </TableView>
                                  </VBox>
                              </VBox>
                     </content>
                  </ScrollPane>
                    </Tab>
   
                    <!-- Move Management Tab -->
                    <!-- Move Management Tab -->
                    <Tab text="Move Management">
                  <ScrollPane maxWidth="636.0" minWidth="636.0">
                     <content>
                              <VBox fx:id="moveManagementContainer" alignment="TOP_CENTER" maxWidth="636.0" minWidth="636.0" spacing="20" styleClass="move-management-container">
                                  <padding>
                                      <Insets bottom="20" left="20" right="20" top="20" />
                                  </padding>
         
                                  <!-- Pokémon Selection Section -->
                                  <HBox alignment="CENTER_LEFT" spacing="20">
                                      <VBox spacing="10">
                                          <Label styleClass="section-label" text="Select Pokémon:" />
                                          <ComboBox fx:id="pokemonComboBox" prefWidth="200" promptText="Choose Pokémon" styleClass="combo-box" />
                                          <Label fx:id="pokemonTypeLabel" styleClass="info-label" text="Type: ???" />
                                          <Label fx:id="pokemonMoveCountLabel" styleClass="info-label" text="Moves Known: 0/4" />
                                      </VBox>
                                      <ImageView fx:id="pokemonImageView" fitHeight="96" fitWidth="96" />
                                  </HBox>
         
                                  <!-- Move Tables Section -->
                                  <SplitPane dividerPositions="0.5" prefHeight="320">
                                      <!-- Current Moves -->
                                      <VBox alignment="CENTER" spacing="10">
                                          <Label styleClass="table-header" text="Current Moves:" />
                                          <TableView fx:id="currentMovesTable" prefWidth="340" styleClass="move-table">
                                              <columns>
                                                  <TableColumn fx:id="moveNameCol" prefWidth="140" style="-fx-alignment: CENTER-LEFT;" text="Name" />
                                                  <TableColumn fx:id="moveTypeCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Type" />
                                                  <TableColumn fx:id="moveCategoryCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Class" />
                                              </columns>
                                          </TableView>
                                      </VBox>
         
                                      <!-- Compatible Moves -->
                                      <VBox alignment="CENTER" spacing="10">
                                          <Label styleClass="table-header" text="Compatible Moves:" />
                                          <TableView fx:id="compatibleMovesTable" prefWidth="340" styleClass="move-table">
                                              <columns>
                                                  <TableColumn fx:id="compMoveNameCol" prefWidth="140" style="-fx-alignment: CENTER-LEFT;" text="Name" />
                                                  <TableColumn fx:id="compMoveTypeCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Type" />
                                                  <TableColumn fx:id="compMoveClassCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Class" />
                                              </columns>
                                          </TableView>
                                      </VBox>
                                  </SplitPane>
         
                                     <!-- Tips Box -->
                                  <Label maxWidth="706.0" prefHeight="115.0" prefWidth="706.0" styleClass="tip-label" textAlignment="CENTER" wrapText="true">
                                Tip: Pokémon can only know 4 moves. Learning a new one requires forgetting a current move—except for HMs, which can't be forgotten. Only compatible moves sharing at least one type can be taught.
                            </Label>
                              </VBox>
                     </content>
                  </ScrollPane>
                    </Tab>
               <VBox.margin>
                  <Insets />
               </VBox.margin>
   
                </TabPane>
            </VBox>
        </VBox>
    </VBox>

    <stylesheets>
      <URL value="@view.css" />
      <URL value="@../../../styles/view-solo-trainer.css" />
   </stylesheets>
</VBox>
