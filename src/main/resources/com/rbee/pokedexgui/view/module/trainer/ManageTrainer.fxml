<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox fx:id="trainerProfileRoot" prefHeight="720.0" prefWidth="800.0" styleClass="trainer-pane" stylesheets="@trainer-style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.rbee.pokedexgui.controller.trainer.ManageTrainerController">

    <!-- Trainer Info Section Container -->
    <VBox fx:id="trainerInfoContainer" spacing="10" styleClass="trainer-info-container">
        <padding>
            <Insets bottom="20" left="20" right="20" top="20" />
        </padding>
        <HBox spacing="20" styleClass="trainer-header">
            <children>
                <ImageView fx:id="trainerImage" fitHeight="100" fitWidth="100" preserveRatio="true" />
                <VBox prefHeight="105.0" prefWidth="303.0" spacing="5">
                    <children>
                        <Label fx:id="trainerName" styleClass="trainer-name" text="Rbee" />
                        <Label fx:id="trainerHometown" text="Hometown: Pallet Town" />
                        <Label fx:id="trainerBirthdate" text="Birthdate: July 23, 2005" />
                        <Label fx:id="trainerSex" text="Sex: Male" />
                        <HBox spacing="10">
                            <Label text="Money:" />
                            <Label fx:id="trainerMoney" styleClass="money-label" text="₱10,000" />
                        </HBox>
                    </children>
                </VBox>
            </children>
            <HBox.margin>
                <Insets bottom="10" left="20" right="20" top="10" />
            </HBox.margin>
         <padding>
            <Insets top="5.0" />
         </padding>
        </HBox>
    </VBox>

    <!-- Main Tab Pane Container -->
    <VBox fx:id="managementTabsContainer" prefHeight="600" prefWidth="800" styleClass="management-tabs-container">
        <padding>
            <Insets bottom="20" left="20" right="20" top="20" />
        </padding>
        <TabPane fx:id="managementTabs" prefHeight="600" prefWidth="800" tabClosingPolicy="UNAVAILABLE">

            <!-- Item Management Tab -->
            <Tab text="Item Management">
                <VBox fx:id="itemManagementContainerWrapper" prefHeight="600" prefWidth="800" spacing="15.0" styleClass="item-management-wrapper">
                    <padding>
                        <Insets bottom="20" left="20" right="20" top="20" />
                    </padding>

                    <!-- Top Controls -->
                    <HBox spacing="10" styleClass="top-controls">
                        <children>
                            <Region HBox.hgrow="ALWAYS" />
                     <VBox prefHeight="17.0" prefWidth="317.0">
                        <children>
                                  <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="329.0" styleClass="hint-label" text="Right-click an item to Use or Sell." />
                           <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="320.0" text="Using an item applies its effect to the selected Pokémon." textAlignment="RIGHT" />
                        </children>
                     </VBox>
                        </children>
                  <padding>
                     <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                  </padding>
                    </HBox>

                    <!-- Center: Item Table -->
                    <TableView fx:id="trainerItemTable" prefHeight="420" prefWidth="1010" styleClass="item-table">
                        <columns>
                            <TableColumn fx:id="colItemName" prefWidth="250.0" styleClass="name-col" text="Name" />
                            <TableColumn fx:id="colItemCategory" prefWidth="200.0" text="Category" />
                            <TableColumn fx:id="colItemEffect" prefWidth="280.0" styleClass="effect-col" text="Effect" />
                            <TableColumn fx:id="colItemQuantity" prefWidth="80.0" text="Qty" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>



                    <!-- Bottom: Context Actions -->
                    <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="bottom-actions">
                        <children>
                            <Label text="Remaining Money:" />
                            <Label fx:id="lblRemainingMoney" styleClass="money-label" text="₱10,000" />
                        </children>
                    </HBox>
                </VBox>
            </Tab>


            <Tab text="Pokémon Lineup">
                <VBox fx:id="lineupContainer" alignment="TOP_LEFT" spacing="15" styleClass="lineup-container">
                    <padding>
                        <Insets bottom="20" left="20" right="20" top="20" />
                    </padding>

                    <!-- Navigate to Pokémon Page Button -->
                    <HBox prefHeight="64.0" prefWidth="720.0" spacing="10">
                        <padding>
                            <Insets bottom="10" left="10" right="10" top="10" />
                        </padding>
                        <children>
                            <Region prefHeight="34.0" prefWidth="126.0" HBox.hgrow="ALWAYS" />
                     <VBox alignment="TOP_RIGHT" prefHeight="54.0" prefWidth="521.0">
                        <children>
                                  <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="492.0" styleClass="hint-label" text="Right-click a Pokémon to swap between the active lineup and storage." textAlignment="RIGHT" />
                           <Label alignment="TOP_RIGHT" prefHeight="17.0" prefWidth="481.0" text="Adding more requires moving one to storage or releasing a Pokémon." textAlignment="RIGHT" wrapText="true" />
                        </children>
                     </VBox>
                        </children>
                    </HBox>

                    <!-- Active Pokémon Section -->
                    <VBox spacing="5" styleClass="active-pokemon-section">
                        <HBox alignment="CENTER_LEFT" spacing="20">
                            <Label fx:id="lblActiveCount" styleClass="count-label" text="Active Pokémon: 0 / 6" />
                        </HBox>
                        <TableView fx:id="activePokemonTable" prefHeight="420" prefWidth="750" styleClass="pokemon-table">
                            <columns>
                                <TableColumn fx:id="colActivePokedexNo" prefWidth="70" style="-fx-alignment: CENTER;" text="#" />
                                <TableColumn fx:id="colActiveName" prefWidth="150" text="Name" />
                                <TableColumn fx:id="colActiveLevel" prefWidth="70" style="-fx-alignment: CENTER;" text="Level" />
                                <TableColumn fx:id="colActiveType" prefWidth="150" text="Type(s)" />

                                <TableColumn fx:id="colActiveHp" prefWidth="50" style="-fx-alignment: CENTER;" text="HP" />
                                <TableColumn fx:id="colActiveAtk" prefWidth="50" style="-fx-alignment: CENTER;" text="Atk" />
                                <TableColumn fx:id="colActiveDef" prefWidth="50" style="-fx-alignment: CENTER;" text="Def" />
                                <TableColumn fx:id="colActiveSpAtk" prefWidth="60" style="-fx-alignment: CENTER;" text="Sp.Atk" />
                                <TableColumn fx:id="colActiveSpDef" prefWidth="60" style="-fx-alignment: CENTER;" text="Sp.Def" />
                                <TableColumn fx:id="colActiveSpeed" prefWidth="50" style="-fx-alignment: CENTER;" text="Spe" />

                                <TableColumn fx:id="colActiveTotal" prefWidth="70" style="-fx-alignment: CENTER;" text="Total" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>

                    </VBox>

                    <!-- Storage Pokémon Section -->
                    <VBox spacing="5" styleClass="storage-pokemon-section">
                        <HBox alignment="CENTER_LEFT" spacing="20">
                            <Label fx:id="lblStorageCount" styleClass="count-label" text="Storage Pokémon: 0" />
                        </HBox>
                        <TableView fx:id="storagePokemonTable" prefHeight="420" prefWidth="750" styleClass="pokemon-table">
                            <columns>
                                <TableColumn fx:id="idColumn" prefWidth="70" style="-fx-alignment: CENTER;" text="#" />
                                <TableColumn fx:id="nameColumn" prefWidth="150" text="Name" />
                                <TableColumn fx:id="levelColumn" prefWidth="70" style="-fx-alignment: CENTER;" text="Level" />
                                <TableColumn fx:id="typeColumn" prefWidth="150" text="Type(s)" />

                                <TableColumn fx:id="hpColumn" prefWidth="50" style="-fx-alignment: CENTER;" text="HP" />
                                <TableColumn fx:id="atkColumn" prefWidth="50" style="-fx-alignment: CENTER;" text="Atk" />
                                <TableColumn fx:id="defColumn" prefWidth="50" style="-fx-alignment: CENTER;" text="Def" />
                                <TableColumn fx:id="spaColumn" prefWidth="60" style="-fx-alignment: CENTER;" text="Sp.Atk" />
                                <TableColumn fx:id="spdColumn" prefWidth="60" style="-fx-alignment: CENTER;" text="Sp.Def" />
                                <TableColumn fx:id="speColumn" prefWidth="50" style="-fx-alignment: CENTER;" text="Spe" />

                                <TableColumn fx:id="totalColumn" prefWidth="70" style="-fx-alignment: CENTER;" text="Total" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </VBox>
                </VBox>
            </Tab>





            <!-- Move Management Tab -->
            <Tab text="Move Management">
                <VBox fx:id="moveManagementContainer" alignment="TOP_CENTER" spacing="20" styleClass="move-management-container">
                    <padding>
                        <Insets bottom="20" left="20" right="20" top="20" />
                    </padding>

                    <!-- Pokémon Selection Section -->
                    <HBox alignment="CENTER_LEFT" spacing="20">
                        <VBox spacing="10">
                            <Label styleClass="section-label" text="Select Pokémon:" />
                            <ComboBox fx:id="pokemonComboBox" prefWidth="200" promptText="Choose Pokémon" styleClass="combo-box" />
                            <Label fx:id="pokemonTypeLabel" styleClass="info-label" text="Type: ???" />
                            <Label fx:id="pokemonMoveCountLabel" styleClass="info-label" text="Moves Known: 0/4" />
                        </VBox>
                        <ImageView fx:id="pokemonImageView" fitHeight="96" fitWidth="96" />
                    </HBox>

                    <!-- Move Tables Section -->
                    <SplitPane dividerPositions="0.5" prefHeight="320">
                        <!-- Current Moves -->
                        <VBox alignment="CENTER" spacing="10">
                            <Label styleClass="table-header" text="Current Moves:" />
                            <TableView fx:id="currentMovesTable" prefWidth="340" styleClass="move-table">
                                <columns>
                                    <TableColumn fx:id="moveNameCol" prefWidth="140" style="-fx-alignment: CENTER-LEFT;" text="Name" />
                                    <TableColumn fx:id="moveTypeCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Type" />
                                    <TableColumn fx:id="moveCategoryCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Class" />
                                </columns>
                            </TableView>
                        </VBox>

                        <!-- Compatible Moves -->
                        <VBox alignment="CENTER" spacing="10">
                            <Label styleClass="table-header" text="Compatible Moves:" />
                            <TableView fx:id="compatibleMovesTable" prefWidth="340" styleClass="move-table">
                                <columns>
                                    <TableColumn fx:id="compMoveNameCol" prefWidth="140" style="-fx-alignment: CENTER-LEFT;" text="Name" />
                                    <TableColumn fx:id="compMoveTypeCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Type" />
                                    <TableColumn fx:id="compMoveClassCol" prefWidth="100" style="-fx-alignment: CENTER;" text="Class" />
                                </columns>
                            </TableView>
                        </VBox>
                    </SplitPane>

                    <!-- Tips Box -->
                    <Label maxWidth="706.0" prefHeight="115.0" prefWidth="706.0" styleClass="tip-label" textAlignment="CENTER" wrapText="true">
                        Tip: Pokémon can only know 4 moves. Learning a new one requires forgetting a current move—except for HMs, which can't be forgotten. Only compatible moves sharing at least one type can be taught.
                    </Label>
                </VBox>
            </Tab>




        </TabPane>
    </VBox>
</VBox>
